<!---This file builds the table to display all of the links for the different Job fields. However, the link for the All column is missing.--->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>

<body>

<div th:replace="fragments :: page-header"></div>

<div class="container body-content">
    <h1 th:text="${#strings.capitalizeWords(title)}"></h1>
    <h2 class = "centered">View Jobs By Category</h2>
</div>

<table class="centeredTable">
    <tr>
        <th:block th:each="column : ${columns}">
            <th th:text = "${column.value}"></th>
        </th:block>
    </tr>
    <tr>
        <!-- TODO #2: Complete the View Jobs By Category Table. -->

        <td>
            <a th:href="@{/list/jobs(column= ${all},value=${all})}">List All</a>
        </td> <!-- remove or modify if necessary. tableChoices is a HashMap from JobData with names of Job fields as keys (employer, etc.)
The value for each key is an ArrayList of Employer, Location, CoreCompetency, or PositionType objects.-->

        <td th:each="category : ${tableChoices}"><!-- category represents one key/value pair from tableChoices--->
            <ul>
                <li th:each="item : ${category.value}"><!---Item represents one entry from the stored arrray list--->
                    <a th:href="@{/list/jobs(column=${category.key},value=${item})}" th:text="${item}"></a>
                    <!---@{/list/jobs} generates a link within a Thymeleaf template. (column=${category.key},value=${position}) causes Thymeleaf to dynamically generate query parameters for our URL.
                    we set these parameters by using column= and value=. The values are determined dynamically based on ${category.key} and ${item}
                    These values come from tableChoices, the keys will be employer, location, etc. The values will be individual elements from the related ArrayList.
                    When the user clicks these links, they will be routed to the listJobsByColumnAndValue handler in ListController, which looks for these parameters.
                    Clicking on one of the links will display a list of jobs that relate to the choice, via the listJobsByColumnAndValue handler method.
                    list-jobs.html isnâ€™t working. The handler method is implemented, the view template needs work. Clicking the Location links send a request but displays a page with a title and no job list.
                    The page you see at /list/values?column=location&value=... is generated by the list-jobs.html template.  It has a similar structure as list.html, but a table w\ only one column.
                    --->
                </li>
            </ul>
        </td>
    </tr>
</table>

</body>
</html>

<!---This page displays a table of links broken down into several categories.
Data from columnChoices is used to fill in the header row,
and information stored in tableChoices generates the link text.--->